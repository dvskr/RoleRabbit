# RoleReady Environment Variables Sample
# Copy this file to .env and update with your actual values

# ============================================
# Frontend Configuration
# ============================================
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_AI_API_URL=http://localhost:8000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# Node.js API Configuration
# ============================================
PORT=3001
NODE_ENV=development

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/roleready_db

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this
JWT_REFRESH_EXPIRES_IN=30d

# Session Management
SESSION_SECRET=your-session-secret-key-change-this
SESSION_MAX_AGE=86400000

# CSRF Protection
CSRF_SECRET=your-csrf-secret-key-min-32-chars-change-this-in-production

# CORS
CORS_ORIGIN=http://localhost:3000

# ============================================
# Python API Configuration
# ============================================
PYTHON_API_PORT=8000
PYTHON_ENV=development

# OpenAI API Key (Required for AI features)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Optional: Other AI Services
ANTHROPIC_API_KEY=your-anthropic-key-if-using
GOOGLE_AI_API_KEY=your-google-ai-key-if-using

# ============================================
# Email Configuration (Optional)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@roleready.com

# ============================================
# Storage Configuration
# ============================================
# Storage Type: 'supabase' (recommended for both dev and production)
# Uses Supabase Storage for consistent file management across environments
STORAGE_TYPE=supabase

# Local Storage Path (only used if STORAGE_TYPE=local - not recommended)
STORAGE_PATH=./uploads

# Supabase Storage Configuration (Required for Supabase Storage)
# Same configuration works for both development and production
# Get these from: Supabase Dashboard → Settings → API
SUPABASE_URL=https://your-project.supabase.co
# Example: https://oawxoirhnnvcomopxcdd.supabase.co
# ✅ Same URL works for Storage, Database, Auth, everything!

SUPABASE_ANON_KEY=your-supabase-anon-key
# Optional: Only needed for frontend client-side uploads

SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
# Required: Get from Settings → API → service_role key (long JWT token)
# ⚠️ Keep this secret! This is NOT the S3 Access Key ID

SUPABASE_STORAGE_BUCKET=roleready-file
# Your bucket name (e.g., roleready-file)

# File Upload Limits
MAX_FILE_SIZE=10485760  # 10MB in bytes

# AWS S3 (Alternative - only if not using Supabase)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=roleready-storage

# Google Drive API (Optional - for cloud integrations)
GOOGLE_DRIVE_CLIENT_ID=your-google-client-id
GOOGLE_DRIVE_CLIENT_SECRET=your-google-client-secret

# Dropbox API (Optional - for cloud integrations)
DROPBOX_ACCESS_TOKEN=your-dropbox-access-token

# ============================================
# Redis Cache Configuration (Recommended for Production)
# ============================================
# Redis is OPTIONAL - if not configured, the app uses in-memory LRU cache
# For production and large-scale usage, Redis is highly recommended

# Redis Connection URL
# Leave empty to disable Redis (will use in-memory cache only)
# Format: redis://[username:password@]host:port[/db-number]
# Examples:
#   Local: redis://localhost:6379
#   Upstash: rediss://default:YOUR_PASSWORD@redis-12345.upstash.io:6379
REDIS_URL=

# Enable TLS/SSL for Redis (required for Upstash and most cloud providers)
# Set to 'true' or '1' for secure connections
REDIS_TLS=false

# Redis key prefix to avoid conflicts (default: rolerabbit)
CACHE_KEY_PREFIX=roleready

# Lazy connect to Redis (connects on first use instead of startup)
REDIS_LAZY_CONNECT=true

# Redis reconnection interval in milliseconds (default: 5000)
REDIS_RECONNECT_INTERVAL_MS=5000

# Cache TTL Settings (all in milliseconds)
CACHE_DEFAULT_TTL_MS=300000              # 5 minutes - default for misc data
CACHE_RESUME_PARSE_TTL_MS=2592000000    # 30 days - resume parsing is expensive
CACHE_JOB_ANALYSIS_TTL_MS=86400000      # 24 hours - job analysis changes daily
CACHE_ATS_SCORE_TTL_MS=21600000         # 6 hours - ATS scores for resumes
CACHE_AI_DRAFT_TTL_MS=7200000           # 2 hours - AI-generated drafts

# In-Memory LRU Cache Settings (fallback when Redis unavailable)
CACHE_LRU_MAX_ITEMS=1000                # Max items in memory cache
CACHE_LRU_TTL_MS=600000                 # 10 minutes - memory cache TTL

# ============================================
# Security & Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Password Requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=true

# ============================================
# Feature Flags
# ============================================
ENABLE_AI_FEATURES=true
ENABLE_CLOUD_STORAGE=true
ENABLE_EMAIL_FEATURES=false
ENABLE_ANALYTICS=false

# ============================================
# Development & Debugging
# ============================================
DEBUG=false
LOG_LEVEL=info
ENABLE_API_LOGGING=true

# ============================================
# Production Settings (Update for production)
# ============================================
# NODE_ENV=production
# DATABASE_URL=your-production-database-url
# JWT_SECRET=your-production-secret
# CORS_ORIGIN=https://your-production-domain.com

